<!-- File: templates/ViewSanPhamChiTiet/fragment_form_chi_tiet.html -->
<div th:fragment="formChiTiet">
  <form th:action="@{/san-pham-chi-tiet/save-multiple}" method="post">
    <input type="hidden" name="idSanPham" th:value="${sanPhamId}" />

    <div id="chiTietContainer">
      <div class="chi-tiet-row" style="border: 1px solid #ccc; padding: 10px; margin-bottom: 10px">
        <label>Màu sắc:</label>
        <select name="idMauSac[]" required>
          <option th:each="m : ${mauSacs}" th:value="${m.id}" th:text="${m.ten}"></option>
        </select>

        <label>Kích thước:</label>
        <select name="idKichThuoc[]" required>
          <option th:each="k : ${kichThuocs}" th:value="${k.id}" th:text="${k.ten}"></option>
        </select>

        <label>Khuyến mãi:</label>
        <select name="idKhuyenMai[]">
          <option value="">Không áp dụng</option>
          <option th:each="km : ${khuyenMais}" th:value="${km.id}" th:text="${km.ten}"></option>
        </select>

        <label>Giá bán:</label>
        <input type="number" name="giaBan[]" step="0.01" required />

        <label>Giá nhập:</label>
        <input type="number" name="giaNhap[]" step="0.01" required />

        <label>Số lượng:</label>
        <input type="number" name="soLuong[]" required />

        <button type="button" class="xoa-dong-btn" style="margin-left: 10px">Xóa</button>
      </div>
    </div>

    <div style="margin-top: 15px; text-align: center">
      <button type="button" id="addRowBtn">+ Thêm dòng</button>
      <button type="submit">Lưu tất cả</button>
    </div>
  </form>
</div>
